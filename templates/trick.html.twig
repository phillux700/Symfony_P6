{%  extends 'base.html.twig' %}
{% block title %}{{ trick.name }}{{ trick.id }}{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="../../css/custom.css">
{% endblock %}
{% block body %}

    <!-- Header -->
    <header class="masthead" style="height: 50vh;background: url({{ medium.url }});background-repeat: no-repeat;background-size: cover;">
        <div class="container d-flex h-100 align-items-center">
            <div class="mx-auto text-center">
                <h1 class="mx-auto my-0 text-uppercase">{{ trick.name }}{{ trick.id }}</h1>
                <h2 class="text-white-50 mx-auto mt-2 mb-5"></h2>
                {% if (1 == 1) %}
                <div style="position:absolute;top: 100px; right: 20px;width:100px; height:50px;">
                    <div class="row">
                        <button class="btn btn-sm" style="padding: 10px 14px;margin:0px 0px"><a href="{{ path('modifytrickpage', {id: trick.id})}}"><i class="fa fa-pencil fa-2x"></i></a></button>
                        <button class="btn btn-sm" style="padding: 10px 14px;margin:0px 0px"><a href="{{ path('deletetrick', {id: trick.id}) }}" data-toggle='confirmation'><i class="fa fa-trash fa-2x"></i></a></button>

                    </div>
                </div>
                {% endif %}

            </div>
        </div>
    </header>

    <!-- Projects Section -->
    <section id="tricks" class="projects-section bg-light">
        <div class="container" >
            <div class="col-md-12 text-center">
                <div class="row justify-content-md-center" style="padding: 45px;">
                {% for medium in media %}

                        <div class="col-md-2">
                            <p class="text-center"><img class="img-fluid" src="{{ medium.url }}" /></p>
                        </div>

                {% endfor %}
                </div>
                <hr>
                <p>{{ trick.description }}</p>
                <hr>
                <p>Catégorie: {{ trick.category.name }}</p>
                <p>Auteur: {{ trick.author.username }}</p>
                <p>{% if trick.updatedAt %}
                        mis à jour le {{ trick.updatedAt|date("d/m/Y") }}
                    {% else %}
                        publié le {{ trick.createdAt|date("d/m/Y") }} %}</p>
                {% endif %}
                <hr>

            </div>
            <div class="row" style="margin: 50px auto;width: 100%;">
            </div>
        </div>


    </section>

    <section id="comments">

        <div class="container" style="margin-top: 150px;">
    <div class="row">
        <div class="col-sm-12">
            {% if app.user %}
                {{ form_start(commentForm) }}
                {#{{ form_row(commentForm.author, {'attr': {'placeholder': "Votre nom" }}) }}#}
                {{ form_row(commentForm.content, {'attr': {'placeholder': "Votre message" }}) }}
                <button type="submit" class="btn btn-success">Publier</button>
                {{ form_end(commentForm) }}
            {% else %}
                <div class="form-card text-center">
                    <a class="btn btn-success" href="{{ path('security_login') }}"><i class="fa fa-sign-in" aria-hidden="true"></i>&nbsp;Connectez-vous</a>
                     pour publier un message<br>
                </div>
            {% endif %}
        </div>
        <div class="col-sm-12">
            <h1 class="text-center">{{ trick.comments|length }} commentaires</h1>
            {% for comment in comments %}
            <div class="form-card text-center">
                <p class="text-left">{{ trick.author.username }}</p>
                <p class="text-left">{{ comment.createdAt|date("d/m/Y") }}</p>
                {{ comment.content }}
            </div>
            {% endfor %}
        </div>
    </div>
    </div>


    </section>

{%  endblock %}
